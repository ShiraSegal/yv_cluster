<form [formGroup]="tableDataForm">
    <div class="table-frame">
        <div class="data-container">
            @if (currentTab === autoClusterTabType.ERROR_MESSAGES) {
            }
            @else {
            <yv-cluster-table-header [currentTab]="currentTab"
             [headers]="Headers" [length]="length"
                [tableDataForm]="tableDataForm" >
            </yv-cluster-table-header>
            }

            <div class="rows-container" formArrayName="rowsFormArray">
                @for(rowGroup of (rowGroups$ | async) ; let i = $index ;track i;){
                @if (currentTab === autoClusterTabType.ERROR_MESSAGES ||currentTab === autoClusterTabType.MISSING_FIELD  ) {
                <yv-cluster-expandable [currentTab]="currentTab" [property]="narrowBasicTableRowExpandState.CLOSE"
                    [rowGroup]="rowGroup">
                </yv-cluster-expandable>
                }
                @else {
                <yv-cluster-narrow-basic-table-row [currentTab]="currentTab" [prefCodeStatus]="prefCodeStatus"
                    [property]="narrowBasicTableRowInputState.DEFAULT" [rowGroup]="rowGroup"
                    [length]="length"
                    (bookIdToDelet)="deleteRowByBookId($event)">
                </yv-cluster-narrow-basic-table-row>
                }
                }
            </div>
        </div>
    </div>
</form>
