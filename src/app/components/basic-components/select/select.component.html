
<div class="wrapper">
    <fieldset class="common-select-wrapper" [ngClass]='stateEnum'>
  
      <legend class="select-legend" [ngClass]='stateEnum'>
        {{ (stateEnum === stateEnumMain.POPULATED || stateEnum === stateEnumMain.FOCUSED) ? label : '' }}
      </legend>
  
      <div class="custom-select">
        <span class="content" [ngClass]="stateEnum">
          <ng-container *ngIf="selectedOption">
            <yv-cluster-native-option
              [optionType]="nativeOptionType">
            </yv-cluster-native-option>
          </ng-container>
          <ng-container *ngIf="!selectedOption">
            {{ default }}
          </ng-container>
        </span>
        <span class="icon-arrowbottom">
          <i class="fa-solid fa-chevron-down custom-arrow" (click)="toggleDropdown()"></i>
        </span>
      </div>
  
      @if(dropdownOpen){
        @if(selectType!= 'default'&& selectType!= 'status'){
      <ul class="custom-options">
        @for (option of options; track option){
        <li (click)="selectOption(option)" >
          <yv-cluster-native-option
          [optionType]="nativeOptionType">
        </yv-cluster-native-option>
        </li>
        }
      </ul>
    }
    @else if(selectType== 'status'){
      <ul class="custom-options">
        <li  >
          <yv-cluster-native-option
          [optionType]="nativeOptionType" [badgeStatus]="badgeType.TODO">
        </yv-cluster-native-option>
        <yv-cluster-native-option
        [optionType]="nativeOptionType" [badgeStatus]="badgeType.DONE">
      </yv-cluster-native-option>
        </li>
      </ul>
    }
    @else{
      <ul class="custom-options">
      @for (option of options; track option){
        <li (click)="selectOption(option)" >
        <div class="select-default-value">
            {{option}}
        </div>
        </li>
        }
      </ul>
    }
      }
    </fieldset>
  
    @if(stateEnum === stateEnumMain.ERROR){
    <div class="error-message">
      Error Message
    </div>
    }
  </div>