
<div class="wrapper">
    <fieldset class="common-select-wrapper" [ngClass]='stateEnum'>
  
      <legend class="select-legend" [ngClass]='stateEnum'>
        {{ (stateEnum === stateEnumMain.POPULATED || stateEnum === stateEnumMain.FOCUSED) ? label : '' }}
      </legend>
  
      <div class="custom-select">
        <span class="content" [ngClass]="stateEnum">
          <ng-container *ngIf="selectedOption">
            <yv-cluster-native-option
              [optionType]="selectedOption.optionType"
              [optionState]="selectedOption.optionState">
            </yv-cluster-native-option>
          </ng-container>
          <ng-container *ngIf="!selectedOption">
            {{ default }}
          </ng-container>
        </span>
        <span class="icon-arrowbottom">
          <i class="fa-solid fa-chevron-down custom-arrow" (click)="toggleDropdown()"></i>
        </span>
      </div>
  
      @if(dropdownOpen){
      <ul class="custom-options">
        @for (option of options; track option){
        <li (click)="selectOption(option)" >
          <yv-cluster-native-option
          [optionType]="option.optionType"
          [optionState]="option.optionState">
        </yv-cluster-native-option>
        </li>
        }
      </ul>
      }
    </fieldset>
  
    @if(stateEnum === stateEnumMain.ERROR){
    <div class="error-message">
      Error Message
    </div>
    }
  </div>