<div class="wrapper">
  <fieldset class="common-select-wrapper" [ngClass]="stateEnum">
    <legend class="select-legend" [ngClass]="stateEnum">
      @if (stateEnum === stateEnumMain.POPULATED || stateEnum === stateEnumMain.FOCUSED) {
        {{ label }}
      }
    </legend>
 
    <div
      class="custom-select"
      tabindex="0"
      (click)="toggleDropdown()"
      (focus)="onFocus()"
      (blur)="onBlur()"
    >
      <span class="content" [ngClass]="stateEnum">
        @if (selectedOption) {
          <yv-cluster-native-option
            [optionType]="selectedOption.optionType"
            [optionState]="selectedOption.optionState"
            [displayText]="selectedOption.displayText"
            [property]="selectedOption.property"
          ></yv-cluster-native-option>
        } @else {
          {{ default }}
        }
      </span>
      <span class="icon-arrowbottom">
        <i class="fa-solid fa-chevron-down custom-arrow"></i>
      </span>
    </div>
 
    @if (dropdownOpen) {
      <ul class="custom-options">
        @for (option of options; track option) {
          <li (click)="selectOption(option)">
            <yv-cluster-native-option
              [optionType]="option.optionType"
              [optionState]="option.optionState"
              [displayText]="option.displayText"
              [property]="option.property"
            ></yv-cluster-native-option>
          </li>
        }
      </ul>
    }
  </fieldset>
 
  @if (stateEnum === stateEnumMain.ERROR) {
    <div class="error-message">
      Error Message
    </div>
  }
</div>
 